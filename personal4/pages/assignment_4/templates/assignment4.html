{% extends 'base.html' %}

{% block pageBody %}

    {% with flashedMessages = get_flashed_messages() %}
         {% if flashedMessages %}
            {% for message in flashedMessages%}
                <h id="flashedMessages">{{message}}</h>
            {% endfor%}
        {% endif %}
         {% endwith %}


    <div>
    <div class="grid">
     <h2>Insert User</h2>
        <form action="/insert_user" method="post" class="search">
             <div class="form-group">
            <input class="form-control" type="text" name="user_name" placeholder="Username" required>
            </div>

            <div class="form-group">
            <input class="form-control" type="text" name="user_id" placeholder="ID (9 digits)" pattern="[0-9]{9}" required>
           </div>

           <div class="form-group">
            <input class="form-control" type="email" name="user_email" placeholder="Email address" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" required>
           </div>

           <div class="form-group">
            <input class="form-control" type="password" name="user_password" placeholder="Password (number,upper&lower case)" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}" required>
           </div>

           <div class="form-group">
            <input class="form-control" type="number" name="user_age" placeholder="Age (between 21 and 75)" min="21" max="75" required><br>
           </div>

           <div class="form-group">
            <input class="button" type="submit" value="Insert">
           </div>
        </form>
        <br><br><br>

         <h2>Delete User</h2>
        <form action="/delete_user" method="post" class="search">
             <div class="form-group">
            <input class="form-control" type="text" name="user_id_delete" placeholder="ID" required>
            </div>

             <div class="form-group">
            <input class="button" type="submit" value="Delete">
           </div>
        </form>

        <br><br><br>

        <h2>Update User</h2>
        <form action="/update_user" method="post" class="search">
             <div class="form-group">
            <input class="form-control" type="text" name="user_name" placeholder="Username">
            </div>

            <div class="form-group">
            <input class="form-control" type="text" name="user_id" placeholder="ID (9 digits)" pattern="[0-9]{9}" required>
           </div>

           <div class="form-group">
            <input class="form-control" type="email" name="user_email" placeholder="Email address" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
           </div>

           <div class="form-group">
            <input class="form-control" type="password" name="user_password" placeholder="Password (number,upper&lower case)" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}">
           </div>

           <div class="form-group">
            <input class="form-control" type="number" name="user_age" placeholder="Age (between 21 and 75)" min="21" max="75"><br>
           </div>

           <div class="form-group">
            <input class="button" type="submit" value="Update">
           </div>
        </form>
        <br><br>

        <div class="usersTableDiv">
          <table id="usersTable" class="table-fill">
    <thead>
      <tr>
        <th>User Name</th>
        <th>ID</th>
        <th>Email</th>
        <th>Password</th>
        <th>Age</th>
      </tr>
    </thead>
    <tbody>
      {% for i in users %}
        <tr>
          <td>{{ i.user_name }}</td>
          <td>{{ i.user_ID }}</td>
          <td>{{ i.user_email }}</td>
          <td>{{ i.user_password }}</td>
          <td>{{ i.user_age }}</td>

      {% endfor %}
    </tbody>
  </table>
</div>


        </div>
    </div>


{% endblock %}

